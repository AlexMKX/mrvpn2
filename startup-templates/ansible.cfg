# Ansible Configuration for MRVPN2 Infrastructure
# Optimized for WSL deployment environment

[defaults]
# Paths for custom modules and roles
library = ./plugins/modules
filter_plugins = ./plugins/filter
roles_path = ./roles

# Performance optimizations for WSL
fact_caching = memory
gathering = smart
host_key_checking = False

# Parallelization (reduced for WSL)
forks = 5

# Output formatting
stdout_callback = yaml
display_skipped_hosts = False
display_ok_hosts = True
display_failed_stderr = True
retry_files_enabled = False
command_warnings = False
deprecation_warnings = False

# Timeouts optimized for WSL
timeout = 60
connect_timeout = 30
command_timeout = 60

[ssh_connection]
# SSH optimizations for WSL with improved reliability
ssh_args = -o ControlMaster=auto -o ControlPersist=300s -o UserKnownHostsFile=/dev/null -o IdentitiesOnly=yes -o StrictHostKeyChecking=no -o ConnectTimeout=30 -o ServerAliveInterval=60 -o ServerAliveCountMax=3 -o TCPKeepAlive=yes -o ConnectionAttempts=3
pipelining = True
control_path = /tmp/ansible-ssh-%%h-%%p-%%r
retries = 5
reconnection_retries = 3

[connection]
# Connection settings optimized for WSL
pipelining = True